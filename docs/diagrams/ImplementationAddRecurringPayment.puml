@startuml
!include https://raw.githubusercontent.com/xzynos/tp/branch-MoneyGoWhere-Webpage/docs/diagrams/Styles.puml

skinparam sequenceReferenceBackgroundColor #ffffff

Participant "consoleInterface:ConsoleInterface" as consoleInterface USER_INTERFACE_COLOR_1
Participant "recurringPayment:RecurringPayment" as recurringPayment DATA_COLOR_4
Participant "recurringPaymentManager:RecurringPaymentManager" as recurringPaymentManager DATA_COLOR_4
Participant "<<class>>\nLocalStorage" as LocalStorage STORAGE_COLOR_1

activate consoleInterface USER_INTERFACE_COLOR_1

ref over consoleInterface: Get Console Command

opt consoleCommand instanceof ConsoleCommandAddRecurringPayment
    consoleInterface -[USER_INTERFACE_COLOR_1]> consoleInterface : \lrunCommandAddRecurringPayment(\n\tconsoleCommand:ConsoleCommandRecurringPayment\n)
    activate consoleInterface USER_INTERFACE_COLOR_1

    create recurringPayment

    consoleInterface -[USER_INTERFACE_COLOR_1]> recurringPayment
    activate recurringPayment DATA_COLOR_4

    recurringPayment --[DATA_COLOR_4]> consoleInterface
    deactivate recurringPayment

    consoleInterface -[USER_INTERFACE_COLOR_1]> recurringPaymentManager : addRecurringPayment(recurringPayment:RecurringPayment)
    activate recurringPaymentManager DATA_COLOR_4

    recurringPaymentManager --[DATA_COLOR_4]> consoleInterface
    deactivate recurringPaymentManager

    ref over consoleInterface: Print Recurring Payment

    consoleInterface -[USER_INTERFACE_COLOR_1]> recurringPaymentManager : save()
    activate recurringPaymentManager DATA_COLOR_4

    recurringPaymentManager -[DATA_COLOR_4]> LocalStorage : \lsaveToFile(\n\trecurringPayments:ArrayList<RecurringPayment>\n)
    activate LocalStorage STORAGE_COLOR_1

    LocalStorage --[STORAGE_COLOR_1]> recurringPaymentManager
    deactivate LocalStorage

    recurringPaymentManager --[DATA_COLOR_4]> consoleInterface
    deactivate recurringPaymentManager

    consoleInterface --[USER_INTERFACE_COLOR_1]> consoleInterface
    deactivate consoleInterface
end

deactivate consoleInterface
@enduml
